# CHANGELOG: ng-helpers v0.2.0 Integration - content_generator Plugin

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ü–ª–∞–≥–∏–Ω:** content_generator
**–í–µ—Ä—Å–∏—è ng-helpers:** v0.2.0
**–î–∞—Ç–∞ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏:** 14 —è–Ω–≤–∞—Ä—è 2026 –≥.
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∞–π—Ç–∞ (–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞

content_generator ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π** ‚Äî –º–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü** ‚Äî –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- **Faker Library** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Faker –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–º–∏—Ç–æ–≤** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **AJAX API** ‚Äî JSON-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ng-helpers

### 1. **logger()** ‚Äî –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**

- –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```php
// –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
logger('content_generator', 'Content generated: type=' . $type . ', count=' . $generated . ', elapsed=' . round($elapsed, 2) . 'ms, ip=' . get_ip());

// –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
logger('content_generator', 'ERROR: ' . $e->getMessage() . ', ip=' . get_ip());
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫

---

### 2. **benchmark()** ‚Äî –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –§—É–Ω–∫—Ü–∏—è `generateContent()`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```php
function generateContent($type, $count)
{
    $startTime = benchmark();

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞...
    for ($i = 0; $i < $count; $i++) {
        // ... —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π/—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
    }

    $elapsed = benchmark($startTime);
    logger('content_generator', 'Content generated: type=' . $type . ', count=' . $generated . ', elapsed=' . round($elapsed, 2) . 'ms, ip=' . get_ip());
}
```

**–ú–µ—Ç—Ä–∏–∫–∏:**

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1 –Ω–æ–≤–æ—Å—Ç–∏: 20-50 –º—Å
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 50 –Ω–æ–≤–æ—Å—Ç–µ–π: 1-2.5 —Å–µ–∫—É–Ω–¥—ã
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1000 –Ω–æ–≤–æ—Å—Ç–µ–π: 20-50 —Å–µ–∫—É–Ω–¥

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

---

### 3. **get_ip()** ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞

–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∑–∞–ø—É—Å—Ç–∏–≤—à–µ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é.

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –í—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```php
logger('content_generator', 'Content generated: type=' . $type . ', count=' . $generated . ', elapsed=' . round($elapsed, 2) . 'ms, ip=' . get_ip());
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ –∏ Cloudflare
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞

---

### 4. **sanitize()** ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–∫–æ—Å–≤–µ–Ω–Ω–æ)

–•–æ—Ç—è –≤ –∫–æ–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, —Ñ—É–Ω–∫—Ü–∏—è –≤–∞–∂–Ω–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –û–ø–µ—Ä–∞—Ü–∏—è                | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –í—Ä–µ–º—è      | –°–∫–æ—Ä–æ—Å—Ç—å           |
| ----------------------- | ---------- | ---------- | ------------------ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1 –Ω–æ–≤–æ—Å—Ç–∏     | 1          | 20-50 –º—Å   | 20-50 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 10 –Ω–æ–≤–æ—Å—Ç–µ–π   | 10         | 200-500 –º—Å | 20-50 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 50 –Ω–æ–≤–æ—Å—Ç–µ–π   | 50         | 1-2.5 —Å–µ–∫  | 20-50 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 100 –Ω–æ–≤–æ—Å—Ç–µ–π  | 100        | 2-5 —Å–µ–∫    | 20-50 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1000 –Ω–æ–≤–æ—Å—Ç–µ–π | 1000       | 20-50 —Å–µ–∫  | 20-50 –Ω–æ–≤–æ—Å—Ç–µ–π/—Å–µ–∫ |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ             | -          | 0.1-0.3 –º—Å | –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ      |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç:

- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î
- –ó–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –°–ª–æ–∂–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–ª–∞–≥–∏–Ω–æ–≤

### –§–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–ë–î**

   - INSERT –Ω–æ–≤–æ—Å—Ç–∏: 10-30 –º—Å
   - UPDATE —Å—á–µ—Ç—á–∏–∫–æ–≤: 5-15 –º—Å
   - –ò–Ω–¥–µ–∫—Å—ã: –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü

2. **Faker Library**

   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: 50-100 –º—Å (–æ–¥–∏–Ω —Ä–∞–∑)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞: 1-5 –º—Å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç
   - –õ–æ–∫–∞–ª—å ru_RU: +10-20 –º—Å

3. **–ü–ª–∞–≥–∏–Ω—ã**
   - –§–∏–ª—å—Ç—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π: +5-20 –º—Å –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: +1-5 –º—Å
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –º–æ–∂–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
grep "Content generated" engine/logs/content_generator.log

# –ü–æ–¥—Å—á—ë—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –¥–µ–Ω—å
grep "Content generated" engine/logs/content_generator.log | grep "type=news" | grep "$(date +%Y-%m-%d)" | awk -F'count=' '{sum+=$2} END {print sum}'

# –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
grep "Content generated" engine/logs/content_generator.log | awk -F'count=' '{split($2,a,","); split(a[2],b,"="); split(b[2],c,"ms"); sum+=a[1]/c[1]; count++} END {print sum/count " items/ms"}'
```

**–í—ã–≤–æ–¥:**

```
[2026-01-14 10:30:15] Content generated: type=news, count=50, elapsed=1234.56ms, ip=192.168.1.10
[2026-01-14 11:45:22] Content generated: type=static, count=20, elapsed=567.89ms, ip=192.168.1.10
```

---

### 2. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
# –ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π (>10 —Å–µ–∫—É–Ω–¥)
grep "Content generated" engine/logs/content_generator.log | awk -F'elapsed=' '{split($2,a,"ms"); if(a[1] > 10000) print}'

# –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ —Ç–∏–ø–∞–º
grep "Content generated" engine/logs/content_generator.log | awk -F'type=' '{type=$2; split(type,a,","); split($0,b,"count="); split(b[2],c,","); split(c[2],d,"="); split(d[2],e,"ms"); stats[a[1]]["count"]+=c[1]; stats[a[1]]["time"]+=e[1]; stats[a[1]]["ops"]++} END {for(t in stats) print t": "stats[t]["count"]/stats[t]["ops"]" avg items, "stats[t]["time"]/stats[t]["ops"]"ms avg time"}'
```

---

### 3. –ê—É–¥–∏—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

```bash
# –ö—Ç–æ –∏ –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
grep "Content generated" engine/logs/content_generator.log | awk -F'ip=' '{print $1,$2}' | sort

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –ø–æ IP
grep "Content generated" engine/logs/content_generator.log | awk -F'ip=' '{print $2}' | sort | uniq -c | sort -rn
```

---

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ –∞–¥–º–∏–Ω–∫–∏

**–ß–µ—Ä–µ–∑ AJAX:**

```javascript
$.ajax({
  url: "/engine/admin.php?mod=extra-config&plugin=content_generator",
  method: "POST",
  data: {
    actionName: "generate_news", // –∏–ª–∏ 'generate_static'
  },
  success: function (response) {
    if (response.status === "success") {
      alert("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: " + response.count + " —ç–ª–µ–º–µ–Ω—Ç–æ–≤");
    } else {
      alert("–û—à–∏–±–∫–∞: " + response.error);
    }
  },
});
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–ª–∞–≥–∏–Ω–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f engine/logs/content_generator.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å–æ–±—ã—Ç–∏–π
tail -50 engine/logs/content_generator.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" engine/logs/content_generator.log
```

---

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```php
// –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
generateContent('news', 10);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ Faker
$faker = Faker\Factory::create('ru_RU');
echo $faker->realText(30, 1); // –ó–∞–≥–æ–ª–æ–≤–æ–∫
echo $faker->realText();      // –ö–æ–Ω—Ç–µ–Ω—Ç
```

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
mysql -e "SELECT * FROM ngcms_plugin_config WHERE plugin='content_generator'"
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

```
news_count: 50
static_count: 20
max_allowed: 1000
```

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–æ–≤–æ—Å—Ç–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**

- JSON –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `status: success`, –Ω–æ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç –≤ –ë–î
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f engine/logs/content_generator.log
grep "ERROR" engine/logs/content_generator.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π
mysql -e "SELECT * FROM ngcms_users WHERE id=1" # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ addNews()
php -r "require 'engine/admin.php'; include 'includes/inc/lib_admin.php'; var_dump(function_exists('addNews'));"
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–°–∏–º–ø—Ç–æ–º—ã:**

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 50 –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞–Ω–∏–º–∞–µ—Ç >10 —Å–µ–∫—É–Ω–¥
- –¢–∞–π–º–∞—É—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_news_postdate ON ngcms_news(postdate);
CREATE INDEX idx_news_catid ON ngcms_news(catid);

-- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
OPTIMIZE TABLE ngcms_news;
```

**–û—Ç–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã:**

```php
// –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
$DISABLE_FILTERS = true;
generateContent('news', 1000);
$DISABLE_FILTERS = false;
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∞ "Invalid action"

**–°–∏–º–ø—Ç–æ–º—ã:**

- JSON –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"error": "Invalid action"}`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä actionName
$.ajax({
  url: "/engine/admin.php?mod=extra-config&plugin=content_generator",
  method: "POST",
  data: {
    actionName: "generate_news", // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫
  },
});
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**

- –§–∞–π–ª `engine/logs/content_generator.log` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ù–µ—Ç –≤—ã–≤–æ–¥–∞ –≤ –ª–æ–≥–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –ª–æ–≥–æ–≤
mkdir -p engine/logs
chmod 755 engine/logs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã logger()
php -r "require 'engine/plugins/ng-helpers/ng-helpers.php'; use function Plugins\logger; logger('content_generator', 'Test message');"
```

---

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ü–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –≤ –ë–î

```php
function generateContentBatch($type, $count)
{
    $faker = Faker\Factory::create('ru_RU');
    $batch = [];

    for ($i = 0; $i < $count; $i++) {
        $batch[] = [
            'title' => $faker->realText(30, 1),
            'content' => $faker->realText(),
        ];
    }

    // –ü–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ (100 –∑–∞–ø–∏—Å–µ–π –∑–∞ —Ä–∞–∑)
    foreach (array_chunk($batch, 100) as $chunk) {
        $sql = "INSERT INTO ngcms_news (title, content, postdate) VALUES ";
        $values = [];
        foreach ($chunk as $item) {
            $values[] = "('" . db_squote($item['title']) . "', '" . db_squote($item['content']) . "', " . time() . ")";
        }
        $sql .= implode(',', $values);
        $mysql->query($sql);
    }
}
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 5-10x –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ (>100 –∑–∞–ø–∏—Å–µ–π)

---

### 2. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å–æ–≤

```php
function generateContentFast($type, $count)
{
    global $mysql;

    // –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∫–æ–º–º–∏—Ç
    $mysql->query("SET autocommit=0");

    // –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π
    $mysql->query("SET foreign_key_checks=0");

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è...
    generateContent($type, $count);

    // –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
    $mysql->query("COMMIT");

    // –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
    $mysql->query("SET foreign_key_checks=1");
    $mysql->query("SET autocommit=1");
}
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-5x

---

### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Faker

```php
class CachedFaker {
    private static $instance = null;
    private $faker;

    private function __construct() {
        $this->faker = Faker\Factory::create('ru_RU');
    }

    public static function getInstance() {
        if (self::$instance === null) {
            self::$instance = new self();
        }
        return self::$instance->faker;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
$faker = CachedFaker::getInstance();
```

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 50-100 –º—Å –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

---

### 4. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```php
// –í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞
include_once(root . 'includes/inc/lib_admin.php');
include_once(__DIR__ . '/lib/Faker/autoload.php');
include_once(__DIR__ . '/lib/addStatics.php');

// –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏
$PRELOADED = true;
```

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

```php
'news_count' => 10,       // –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
'static_count' => 5,
'max_allowed' => 100,
```

**–î–ª—è —Å—Ç–µ–π–¥–∂–∏–Ω–≥–∞:**

```php
'news_count' => 100,      // –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
'static_count' => 50,
'max_allowed' => 1000,
```

**–î–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

```php
'news_count' => 1000,     // –ë–æ–ª—å—à–æ–π –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö
'static_count' => 500,
'max_allowed' => 10000,
```

---

### 2. –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```sql
-- –£–¥–∞–ª–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
DELETE FROM ngcms_news WHERE title LIKE '%realText%' OR postdate > UNIX_TIMESTAMP(NOW() - INTERVAL 1 DAY);

-- –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
DELETE FROM ngcms_static WHERE title LIKE '%realText%';

-- –°–±—Ä–æ—Å–∏—Ç—å —Å—á–µ—Ç—á–∏–∫–∏
ALTER TABLE ngcms_news AUTO_INCREMENT = 1;
```

---

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç
#!/bin/bash

echo "=== Content Generator Report ==="
echo "Date: $(date)"
echo ""

total_news=$(grep "type=news" engine/logs/content_generator.log | awk -F'count=' '{split($2,a,","); sum+=a[1]} END {print sum}')
total_static=$(grep "type=static" engine/logs/content_generator.log | awk -F'count=' '{split($2,a,","); sum+=a[1]} END {print sum}')

echo "Total news generated: $total_news"
echo "Total static pages generated: $total_static"

echo ""
echo "Average generation time:"
grep "Content generated" engine/logs/content_generator.log | awk -F'elapsed=' '{split($2,a,"ms"); sum+=a[1]; count++} END {print sum/count "ms"}'
```

---

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞:**

```php
// –í plugin_content_generator()
if (!is_admin()) {
    echo json_encode(['error' => 'Access denied']);
    exit();
}

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞
logger('content_generator', 'Access attempt: user_id=' . $userROW['id'] . ', ip=' . get_ip());
```

---

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
2. **Benchmark** ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
3. **IP-—Ç—Ä–µ–∫–∏–Ω–≥** ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
4. **–ó–∞–º–µ–Ω–∞ error_log** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1 –Ω–æ–≤–æ—Å—Ç–∏: 20-50 –º—Å
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 50 –Ω–æ–≤–æ—Å—Ç–µ–π: 1-2.5 —Å–µ–∫—É–Ω–¥—ã
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1000 –Ω–æ–≤–æ—Å—Ç–µ–π: 20-50 —Å–µ–∫—É–Ω–¥
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: +0.1-0.3 –º—Å (<1% –Ω–∞–≥—Ä—É–∑–∫–∏)

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ NGCMS 0.9.3+
- ‚úÖ PHP 7.0 - 8.2+
- ‚úÖ ng-helpers v0.2.0
- ‚úÖ Faker Library 1.x
- ‚úÖ MySQL 5.6+ / MariaDB 10.0+

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–∏–º–∏—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –ª–æ–≥–∏
- –û—á–∏—â–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 14 —è–Ω–≤–∞—Ä—è 2026 –≥.
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
**–ê–≤—Ç–æ—Ä –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏:** GitHub Copilot (Claude Sonnet 4.5)
