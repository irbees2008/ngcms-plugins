# Плагин Holiday Decor

Лёгкий плагин для NGCMS, который добавляет новогодние украшения на сайт: гирлянды, снег и дополнительные эффекты. Настройки выполняются через админ-панель плагина.

## Возможности
- **Гирлянда (sprite):** простая мигающая гирлянда на основе спрайта (`gir1.png` / `gir2.png`).
- **Гирлянда (modern):** динамическая линия лампочек с плавной анимацией и выключателем.
- **Гирлянда (lightrope):** CSS-гирлянда «верёвка» по верхнему краю.
- **Снег:** встроенный движок падающих снежинок.
- **jQuery Snowfall:** альтернативный снег через библиотеку JQuery-Snowfall (подключается с CDN).
- **Доп. эффекты:** фейерверк, снежный след курсора, крупные снежинки ❄, падающие звёзды, два вида счётчиков до Нового года.

## Установка
1. Скопируйте папку `holiday_decor` в `engine/plugins/`.
2. В админ-панели откройте раздел «Плагины» и включите `Holiday Decor`.
3. Перейдите в настройки плагина и выберите нужные режимы/эффекты.

Плагин регистрирует свои CSS/JS автоматически и работает на всех страницах, указанных в `version` (core/index/news_*).

## Настройки
- **Включить гирлянду:** включает показ гирлянды.
- **Режим гирлянды:** `sprite` / `modern` / `lightrope`.
- **Стиль гирлянды:** `1` или `2` (используется для режима `sprite`).
- **Позиция гирлянды:** `absolute` или `fixed` (закрепление сверху экрана).
- **Включить снег:** включает встроенный снег.
- **Количество снежинок (`snow_count`):** число одновременно видимых снежинок. Используется и для встроенного снега, и для `jQuery Snowfall`.
- **Скорость снега (`snow_speed`):** базовая скорость падения снежинок.
- **Показать выключатель:** добавляет переключатель для современной гирлянды.
- **Фейерверк / Курсор-снег / Крупные снежинки / Падающие звёзды / Счётчик (Санта) / Счётчик (баннер):** независимые переключатели дополнительных эффектов.
- **jQuery Snowfall:** включает внешний движок снега; при включении, автоматически подключаются CDN-скрипты.

## Примечания
- Опции **GIF-гирлянды** удалены как дублирующие спрайт-решение.
- Значение **`snow_count`** единое для всех снежных движков.
- Для `jQuery Snowfall` требуется доступ к CDN: Google jQuery, jQuery Migrate, JQuery-Snowfall.

## Файлы
- `holiday_decor.php` — инициализация, подключение ресурсов и экспорт конфигурации в `window.holidayDecorConfig`.
- `config.php` — схема настроек и генерация страницы конфигурации.
- `tpl/holiday_decor.css` — базовые стили гирлянды/снега.
- `tpl/lightrope.css` — стили CSS-гирлянды.
- `tpl/holiday_decor.js` — логика отрисовки и переключения эффектов.
- `tpl/gir1.png`, `tpl/gir2.png` — спрайты для простой гирлянды.

## Советы по производительности
- Не включайте одновременно все эффекты на слабых устройствах.
- Умеренно увеличивайте `snow_count` (например 150–300).
- Для мобильных страниц можно отключить тяжёлые эффекты (фейерверк, большие снежинки).

## Поддержка
Если заметили проблему или хотите добавить новый эффект — создайте тикет или опишите пожелания в вашем рабочем трекере. Для обновления плагина достаточно заменить файлы в папке и проверить настройки.
