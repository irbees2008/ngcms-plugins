# =========================================================================== #
# NG CMS // Плагины // RSS импорт новостей                                    #
# =========================================================================== #
Плагин выводит на сайте блок(и) новостей из RSS‑ленты сторонних сайтов.
Шаблоны (Twig):
--------------------------------------------------------------------
* rss.tpl — основной шаблон блока.
  Переменные:
  . {{ tpl_url }} — путь к текущему активному шаблону сайта
  . entries — массив элементов ленты (используйте цикл и include entries.tpl)
  . {{ author }} — заголовок/подпись блока
* entries.tpl — шаблон одной записи ленты
  Поля элемента (entry):
  . {{ entry.link }} — ссылка на новость
  . {{ entry.title }} — заголовок
  . {{ entry.short_news }} — короткий текст (если включено в настройках)
  . {{ entry.pic|raw }} — выбранное изображение согласно настройке (см. ниже). Это готовый HTML <img> в обёртке <div class="rss-image-wrapper">.
    Дополнительно доступны: {{ entry.images|raw }} — первое изображение из <description>, {{ entry.image|raw }} — из <enclosure>.
Пример использования внутри rss.tpl:
  {% for entry in entries %}
    {% include localPath(0) ~ 'entries.tpl' %}
  {% endfor %}
Вызов плагина в шаблонах сайта (варианты):
--------------------------------------------------------------------
1) Twig (рекомендуется): вывод одного блока
  {{ callPlugin('rss_import.show', {'index': 1}) }}
  • index: 1, 2, ... — номер настроенного блока (rss1, rss2, ...)
2) Twig: вывод нескольких блоков подряд
  {{ callPlugin('rss_import.show', {'index': 1}) }}
  {{ callPlugin('rss_import.show', {'index': 2}) }}
3) Twig: с проверкой активности плагина
  {% if pluginIsActive('rss_import') %}
    {{ callPlugin('rss_import.show', {'index': 1}) }}
  {% endif %}
4) Легаси-вставка (совместимость с прежними шаблонами)
  {rssN} — где N = 1, 2, ...
Пути шаблонов:
--------------------------------------------------------------------
По умолчанию шаблоны лежат в плагине: engine/plugins/rss_import/tpl/rss1|rss2
Их можно переопределить в теме: templates/<ВашаТема>/plugins/rss_import/rss1|rss2
Настройки (перечень):
--------------------------------------------------------------------
Все параметры задаются отдельно для каждого блока (rss1, rss2, ...), где N = номер блока.
* rssN_url — адрес RSS‑ленты (обязательный)
* rssN_number — количество выводимых элементов (по умолчанию: 10)
* rssN_maxlength — максимальная длина заголовка (по умолчанию: 100 символов)
* rssN_newslength — максимальная длина short_news (по умолчанию: 100 символов)
* rssN_content — формировать short_news из <description> (вкл/выкл)
* rssN_img — удалить все картинки из short_news (вкл/выкл, влияет только на short_news)
* rssN_showImage — показывать ли изображение карточки (вкл/выкл; по умолчанию — да).
  Если выключено — картинка не выводится даже при наличии источника.
* rssN_imageSource — источник изображения для карточки:
  - desc — из тела новости (первое изображение из <description>)
  - enclosure — из доп. полей (тег <enclosure>) [по умолчанию]
* cache / cacheExpire — кэширование вывода (вкл/выкл и время жизни кеша в секундах; по умолчанию: 60)
