================================================================================
  WEB PUSH –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –¥–ª—è NGCMS
================================================================================
–í–µ—Ä—Å–∏—è: 1.0.7
–ê–≤—Ç–æ—Ä: NGCMS Team
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: PHP 8.0+, HTTPS (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞)
================================================================================
  –û–ü–ò–°–ê–ù–ò–ï
================================================================================
–ü–ª–∞–≥–∏–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º —Å–∞–π—Ç–∞ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–∞—Ç—å
–æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç Web Push
API –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª VAPID –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
  ‚úì –ü–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø–∏—Å–∫–∞ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
  ‚úì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
  ‚úì –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞–≥–∏–Ω–æ–º mailing (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ email)
  ‚úì –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ API
  ‚úì –®–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Twig
  ‚úì –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
  ‚úì –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
================================================================================
  –£–°–¢–ê–ù–û–í–ö–ê
================================================================================
1. –ê–ö–¢–ò–í–ê–¶–ò–Ø –ü–õ–ê–ì–ò–ù–ê:
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å NGCMS
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ü–ª–∞–≥–∏–Ω—ã"
   - –ù–∞–π–¥–∏—Ç–µ "Web Push –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ
   - –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ webpush_subscriptions
2. –ù–ê–°–¢–†–û–ô–ö–ê SERVICE WORKER:
  –§–∞–π–ª webpush-sw.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
  –ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –æ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é:
  - Windows (PowerShell): copy engine/plugins/webpush/sw/webpush-sw.js webpush-sw.js
  - Linux/macOS:         cp engine/plugins/webpush/sw/webpush-sw.js webpush-sw.js
3. –î–û–ë–ê–í–õ–ï–ù–ò–ï –ö–ù–û–ü–ö–ò –í –®–ê–ë–õ–û–ù:
   –û—Ç–∫—Ä–æ–π—Ç–µ templates/–≤–∞—à_—à–∞–±–ª–æ–Ω/main.tpl
   –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º </body>:
   {% if webpush is defined %}{{ webpush|raw }}{% endif %}

4. –ì–ï–ù–ï–†–ê–¶–ò–Ø VAPID –ö–õ–Æ–ß–ï–ô:
   –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
   –ü–ª–∞–≥–∏–Ω—ã -> Web Push –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -> –ù–∞—Å—Ç—Ä–æ–π–∫–∏

   –í —Ä–∞–∑–¥–µ–ª–µ "VAPID –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É:
   üîë –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å VAPID –∫–ª—é—á–∏

   –ö–ª—é—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—Ç—Å—è –≤ –ø–æ–ª—è –≤—ã—à–µ.
   –ù–µ –∑–∞–±—É–¥—å—Ç–µ –Ω–∞–∂–∞—Ç—å "–°–û–•–†–ê–ù–ò–¢–¨ –ò–ó–ú–ï–ù–ï–ù–ò–Ø" –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã!
================================================================================
  –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï
================================================================================
–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –û–¢–ü–†–ê–í–ö–ê:
  –ü—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–∏ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
  —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏,
  —Ç–µ–∫—Å—Ç - –∏–∑ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è.
–†–£–ß–ù–ê–Ø –û–¢–ü–†–ê–í–ö–ê:
  GET-–∑–∞–ø—Ä–æ—Å:
  https://—Å–∞–π—Ç.ru/engine/plugins/webpush/send.php?secret=–ö–õ–Æ–ß&title=–ó–∞–≥–æ–ª–æ–≤–æ–∫&body=–¢–µ–∫—Å—Ç&url=/link
  POST-–∑–∞–ø—Ä–æ—Å (JSON):
  {
    "secret": "–í–ê–®_–°–ï–ö–†–ï–¢",
    "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",
    "body": "–¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",
    "url": "/news/123",
    "icon": "/uploads/icon.png",
    "badge": "/uploads/badge.png"
  }
  –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - secret   (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    - title    (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
    - body     (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    - url      (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Å—Å—ã–ª–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "/"
    - icon     (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - URL –∏–∫–æ–Ω–∫–∏
    - badge    (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - URL –∑–Ω–∞—á–∫–∞
–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –ö–û–î:
  <?php
  $secret = extra_get_param('webpush', 'send_secret');
  $url = "https://—Å–∞–π—Ç.ru/engine/plugins/webpush/send.php";
  $data = [
    'secret' => $secret,
    'title' => '–ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è',
    'body' => '–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –Ω–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª',
    'url' => '/news/' . $newsId
  ];
  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_POST, 1);
  curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  $result = curl_exec($ch);
  curl_close($ch);
  ?>
================================================================================
  –ù–ê–°–¢–†–û–ô–ö–ò –ü–õ–ê–ì–ò–ù–ê
================================================================================
–î–æ—Å—Ç—É–ø–Ω—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -> –ü–ª–∞–≥–∏–Ω—ã -> Web Push –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -> –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
  ‚Ä¢ –í–∫–ª—é—á–∏—Ç—å –ø–ª–∞–≥–∏–Ω - –∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
  ‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ–¥–ø–∏—Å–∫–∏ - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Å–∞–π—Ç–µ
  ‚Ä¢ –ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  ‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞–≥–∏–Ω–æ–º Mailing - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ email (v1.0.7+)
  ‚Ä¢ VAPID Subject - mailto: –∞–¥—Ä–µ—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  ‚Ä¢ VAPID Public Key - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π)
  ‚Ä¢ VAPID Private Key - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π)
  ‚Ä¢ –ò–∫–æ–Ω–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ø—É—Ç—å –∫ PNG –∏–∫–æ–Ω–∫–µ (192x192 –º–∏–Ω–∏–º—É–º)
  ‚Ä¢ –ó–Ω–∞—á–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ø—É—Ç—å –∫ PNG –∑–Ω–∞—á–∫—É (96x96)

–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° MAILING (v1.0.7+):
  –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –æ–ø—Ü–∏–∏ "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞–≥–∏–Ω–æ–º Mailing":
  1. –ü—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:
     - Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º webpush
     - Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º mailing
  2. –ü–ª–∞–≥–∏–Ω mailing –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω
  3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø–ª–∞–≥–∏–Ω–∞ mailing
  4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
  ‚Ä¢ –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ - —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ –ø–æ–¥–ø–∏—Å–∫–∏
  ‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É - –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
  ‚Ä¢ –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á - –∫–ª—é—á –¥–ª—è API –æ—Ç–ø—Ä–∞–≤–∫–∏ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
================================================================================
  –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í
================================================================================
engine/plugins/webpush/
‚îú‚îÄ‚îÄ version               # –û–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
‚îú‚îÄ‚îÄ readme.txt           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ install.php          # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ uninstall.php        # –°–∫—Ä–∏–ø—Ç —É–¥–∞–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config.php           # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ webpush.php          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–ª–∞–≥–∏–Ω–∞
‚îú‚îÄ‚îÄ endpoint.php         # API –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫ (–ø—É–±–ª–∏—á–Ω—ã–π)
‚îú‚îÄ‚îÄ send.php            # API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∑–∞—â–∏—â–µ–Ω–Ω—ã–π)
‚îú‚îÄ‚îÄ composer.json       # Composer –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ lang/               # –ü–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ russian/
‚îÇ       ‚îî‚îÄ‚îÄ main.ini
‚îú‚îÄ‚îÄ tpl/                # Twig —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ webpush.tpl
‚îú‚îÄ‚îÄ js/                 # JavaScript
‚îÇ   ‚îî‚îÄ‚îÄ webpush.js
‚îú‚îÄ‚îÄ sw/                 # Service Worker
‚îÇ   ‚îî‚îÄ‚îÄ webpush-sw.js
‚îî‚îÄ‚îÄ lib/                # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
    ‚îî‚îÄ‚îÄ vendor/         # Composer –ø–∞–∫–µ—Ç—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)
================================================================================
  –ë–ê–ó–ê –î–ê–ù–ù–´–•
================================================================================
–¢–∞–±–ª–∏—Ü–∞: prefix_webpush_subscriptions
–ü–æ–ª—è:
  - id          INT AUTO_INCREMENT - ID –∑–∞–ø–∏—Å–∏
  - hash        VARCHAR(64)        - SHA256 —Ö–µ—à endpoint (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
  - endpoint    TEXT              - URL –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  - p256dh      VARCHAR(255)      - –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞
  - auth        VARCHAR(255)      - –¢–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - user_agent  VARCHAR(255)      - User-Agent –±—Ä–∞—É–∑–µ—Ä–∞
  - ip          VARCHAR(45)       - IP –∞–¥—Ä–µ—Å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞
  - created     INT              - Timestamp —Å–æ–∑–¥–∞–Ω–∏—è
  - updated     INT              - Timestamp –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
================================================================================
  –¢–†–ï–ë–û–í–ê–ù–ò–Ø
================================================================================
–°–µ—Ä–≤–µ—Ä:
  ‚Ä¢ PHP 8.0 –∏–ª–∏ –≤—ã—à–µ
  ‚Ä¢ HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Web Push API)
  ‚Ä¢ MySQL/MariaDB
  ‚Ä¢ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ minishlink/web-push –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –ø–ª–∞–≥–∏–Ω (lib/vendor/)
–ë—Ä–∞—É–∑–µ—Ä—ã (–ø–æ–¥–¥–µ—Ä–∂–∫–∞):
  ‚Ä¢ Chrome 42+
  ‚Ä¢ Firefox 44+
  ‚Ä¢ Edge 17+
  ‚Ä¢ Safari 16+
  ‚Ä¢ Opera 37+
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  ‚Ä¢ minishlink/web-push ^8.0 (–≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –ø–ª–∞–≥–∏–Ω)
  ‚Ä¢ NGCMS Build 23b3116+
================================================================================
  –£–°–¢–†–ê–ù–ï–ù–ò–ï –ù–ï–ü–û–õ–ê–î–û–ö
================================================================================
–ü—Ä–æ–±–ª–µ–º–∞: "Web Push library not found"
–†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ engine/plugins/webpush/lib/vendor/ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É
–ü—Ä–æ–±–ª–µ–º–∞: "ServiceWorker –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è"
–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ webpush-sw.js –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ—Ä–Ω–µ —Å–∞–π—Ç–∞ –∏ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTPS
–ü—Ä–æ–±–ª–µ–º–∞: "VAPID keys are empty"
–†–µ—à–µ–Ω–∏–µ: –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–∞ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîë –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å VAPID –∫–ª—é—á–∏" –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
–ü—Ä–æ–±–ª–µ–º–∞: "–ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
–†–µ—à–µ–Ω–∏–µ: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ JavaScript. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à: engine/cache/
–ü—Ä–æ–±–ª–µ–º–∞: "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç"
–†–µ—à–µ–Ω–∏–µ:
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –≤—ã–¥–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ VAPID –∫–ª—é—á–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
–ü—Ä–æ–±–ª–µ–º–∞: "Call to undefined method NGLegacyDB::get_array()"
–†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç–µ NGCMS –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Å–∏—é –ø–ª–∞–≥–∏–Ω–∞ 1.0.1+
================================================================================
  –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
================================================================================
  ‚Ä¢ –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ - –ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ –µ–≥–æ
  ‚Ä¢ API –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—â–∏—â–µ–Ω –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
  ‚Ä¢ –ü–æ–¥–ø–∏—Å–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å —Ö–µ—à–µ–º endpoint –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  ‚Ä¢ Service Worker —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTPS
  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
================================================================================
  –ü–û–î–î–ï–†–ñ–ö–ê
================================================================================
–°–∞–π—Ç: https://ngcms.org
–§–æ—Ä—É–º: https://forum.ngcms.org
GitHub: https://github.com/vpngen/ngcms
================================================================================
  –õ–ò–¶–ï–ù–ó–ò–Ø
================================================================================
MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–ø–∏—Ä–∞–π—Ç–∞
Copyright (c) 2025 NGCMS Team
================================================================================
  CHANGELOG
================================================================================
v1.0.7 (2026-01-17)
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞–≥–∏–Ω–æ–º mailing
  ‚Ä¢ –û–ø—Ü–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ email
  ‚Ä¢ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–ª–∞–≥–∏–Ω–∞ mailing
  ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

v1.0.6 (2026-01-17)
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
  ‚Ä¢ –ù–æ–≤–∞—è –æ–ø—Ü–∏—è "–ê–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–∏"
  ‚Ä¢ –§–∏–ª—å—Ç—Ä WebPushNewsFilter –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
  ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (5 –º–∏–Ω—É—Ç)

v1.0.5 (2026-01-17)
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ VAPID –∫–ª—é—á–µ–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –∫–ª—é—á–µ–π –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
  ‚Ä¢ Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  ‚Ä¢ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –ø–ª–∞–≥–∏–Ω (lib/vendor/)
  ‚Ä¢ –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ Composer
v1.0.4 (2026-01-17)
  ‚Ä¢ –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ data-–∞—Ç—Ä–∏–±—É—Ç –≤ HTML
  ‚Ä¢ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ endpoint.php
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ check_config.php
  ‚Ä¢ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
v1.0.3 (2026-01-17)
  ‚Ä¢ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Twig –≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ $tpl
  ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pluginGetVariable() –≤–º–µ—Å—Ç–æ extra_get_param()
  ‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ng-helpers (logger, get_ip, is_mobile)
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–≤–æ–¥ {{ webpush|raw }} –≤ main.tpl
v1.0.2 (2026-01-04)
  ‚Ä¢ –ê–≤—Ç–æ–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ webpush-sw.js –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
  ‚Ä¢ –£–¥–∞–ª–µ–Ω–∏–µ webpush-sw.js –ø—Ä–∏ –¥–µ–∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏
v1.0.1 (2025-12-16)
  ‚Ä¢ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å NGLegacyDB
  ‚Ä¢ –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PDO –≤ endpoint.php –∏ send.php
  ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–µ–∑ core.php
  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PHP 8.3+
v1.0.0 (2025-12-16)
  ‚Ä¢ –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑
  ‚Ä¢ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Web Push
  ‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NGCMS
  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Twig
  ‚Ä¢ VAPID –ø—Ä–æ—Ç–æ–∫–æ–ª
================================================================================
